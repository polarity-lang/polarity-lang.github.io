"use strict";(self.webpackChunkmonaco_lsp_streams=self.webpackChunkmonaco_lsp_streams||[]).push([[6674,8391,9424],{56674:(e,t,s)=>{s.r(t),s.d(t,{LanguageService:()=>D});var i=s(76535),n=s(21172),a=s(49424),r=s(14701),o=s(91271),h=s(45396);const u=(e,t)=>e===t;new WeakMap;class g{constructor(e,t,s){this.owner=e,this.debugNameSource=t,this.referenceFn=s}getDebugName(e){return function(e,t){const s=c.get(e);if(s)return s;const i=function(e,t){const s=c.get(e);if(s)return s;const i=t.owner?function(e){const t=m.get(e);if(t)return t;const s=function(e){const t=e.constructor;return t?t.name:"Object"}(e);let i=l.get(s)??0;i++,l.set(s,i);const n=1===i?s:`${s}#${i}`;return m.set(e,n),n}(t.owner)+".":"";let n;const a=t.debugNameSource;if(void 0!==a){if("function"!=typeof a)return i+a;if(n=a(),void 0!==n)return i+n}const r=t.referenceFn;if(void 0!==r&&(n=f(r),void 0!==n))return i+n;if(void 0!==t.owner){const s=function(e,t){for(const s in e)if(e[s]===t)return s}(t.owner,e);if(void 0!==s)return i+s}}(e,t);if(i){let t=d.get(i)??0;t++,d.set(i,t);const s=1===t?i:`${i}#${t}`;return c.set(e,s),s}}(e,this)}}const d=new Map,c=new WeakMap,l=new Map,m=new WeakMap;function f(e){const t=e.toString(),s=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t),i=s?s[1]:void 0;return i?.trim()}let p,v,_;class b{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){const s=void 0===t?void 0:e,i=void 0===t?e:t;return _({owner:s,debugName:()=>{const e=f(i);if(void 0!==e)return e;const t=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());return t?`${this.debugName}.${t[2]}`:s?void 0:`${this.debugName} (mapped)`},debugReferenceFn:i},(e=>i(this.read(e),e)))}flatten(){return _({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},(e=>this.read(e).read(e)))}recomputeInitiallyAndOnChange(e,t){return e.add(p(this,t)),this}keepObserved(e){return e.add(v(this)),this}}class L extends b{constructor(){super(...arguments),this.observers=new Set}addObserver(e){const t=this.observers.size;this.observers.add(e),0===t&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&0===this.observers.size&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}class y{constructor(e,t){this._fn=e,this._getDebugName=t,this.updatingObservers=[]}getDebugName(){return this._getDebugName?this._getDebugName():f(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){const e=this.updatingObservers;for(let t=0;t<e.length;t++){const{observer:s,observable:i}=e[t];s.endUpdate(i)}this.updatingObservers=null}}var w=s(67477);_=function(e,t){return new C(new g(e.owner,e.debugName,e.debugReferenceFn),t,void 0,void 0,e.onLastObserverRemoved,e.equalsFn??u)};class C extends L{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,t,s,i,n=void 0,a){super(),this._debugNameData=e,this._computeFn=t,this.createChangeSummary=s,this._handleChange=i,this._handleLastObserverRemoved=n,this._equalityComparator=a,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=this.createChangeSummary?.()}onLastObserverRemoved(){this.state=0,this.value=void 0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(0===this.observers.size){const e=this._computeFn(this,this.createChangeSummary?.());return this.onLastObserverRemoved(),e}do{if(1===this.state)for(const e of this.dependencies)if(e.reportChanges(),2===this.state)break;1===this.state&&(this.state=3),this._recomputeIfNeeded()}while(3!==this.state);return this.value}_recomputeIfNeeded(){if(3===this.state)return;const e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e;const t=0!==this.state,s=this.value;this.state=3;const i=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,i)}finally{for(const e of this.dependenciesToBeRemoved)e.removeObserver(this);this.dependenciesToBeRemoved.clear()}const n=t&&!this._equalityComparator(s,this.value);if(n)for(const e of this.observers)e.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(e){this.updateCount++;const t=1===this.updateCount;if(3===this.state&&(this.state=1,!t))for(const e of this.observers)e.handlePossibleChange(this);if(t)for(const e of this.observers)e.beginUpdate(this)}endUpdate(e){if(this.updateCount--,0===this.updateCount){const e=[...this.observers];for(const t of e)t.endUpdate(this)}(0,w.Ft)((()=>this.updateCount>=0))}handlePossibleChange(e){if(3===this.state&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){this.state=1;for(const e of this.observers)e.handlePossibleChange(this)}}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){const s=!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:t=>t===e},this.changeSummary),i=3===this.state;if(s&&(1===this.state||i)&&(this.state=2,i))for(const e of this.observers)e.handlePossibleChange(this)}}readObservable(e){e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}addObserver(e){const t=!this.observers.has(e)&&this.updateCount>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){const t=this.observers.has(e)&&this.updateCount>0;super.removeObserver(e),t&&e.endUpdate(this)}}function O(e){return new R(new g(void 0,void 0,e),e,void 0,void 0)}class R{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,t,s,i){this._debugNameData=e,this._runFn=t,this.createChangeSummary=s,this._handleChange=i,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=this.createChangeSummary?.(),this._runIfNeeded(),(0,n.Ay)(this)}dispose(){this.disposed=!0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),(0,n.VD)(this)}_runIfNeeded(){if(3===this.state)return;const e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;const t=this.disposed;try{if(!t){const e=this.changeSummary;this.changeSummary=this.createChangeSummary?.(),this._runFn(this,e)}}finally{for(const e of this.dependenciesToBeRemoved)e.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){3===this.state&&(this.state=1),this.updateCount++}endUpdate(){if(1===this.updateCount)do{if(1===this.state){this.state=3;for(const e of this.dependencies)if(e.reportChanges(),2===this.state)break}this._runIfNeeded()}while(3!==this.state);this.updateCount--,(0,w.Ft)((()=>this.updateCount>=0))}handlePossibleChange(e){3===this.state&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:t=>t===e},this.changeSummary))&&(this.state=2)}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}}function I(...e){let t,s,i;return 3===e.length?[t,s,i]=e:[s,i]=e,new N(new g(t,void 0,i),s,i,(()=>N.globalTransaction),u)}(O||(O={})).Observer=R;class N extends L{constructor(e,t,s,i,n){super(),this._debugNameData=e,this.event=t,this._getValue=s,this._getTransaction=i,this._equalityComparator=n,this.hasValue=!1,this.handleEvent=e=>{const t=this._getValue(e),s=this.value,i=!this.hasValue||!this._equalityComparator(s,t);let n=!1;var a,r,o;i&&(this.value=t,this.hasValue&&(n=!0,a=this._getTransaction(),r=e=>{for(const t of this.observers)e.updateObserver(t,this),t.handleChange(this,void 0)},o=()=>{const e=this.getDebugName();return"Event fired"+(e?`: ${e}`:"")},a?r(a):function(e,t){const s=new y(e,t);try{e(s)}finally{s.finish()}}(r,o)),this.hasValue=!0)}}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){const e=this.getDebugName();return"From Event"+(e?`: ${e}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}!function(e){e.Observer=N,e.batchEventsGlobally=function(e,t){let s=!1;void 0===N.globalTransaction&&(N.globalTransaction=e,s=!0);try{t()}finally{s&&(N.globalTransaction=void 0)}}}(I||(I={})),v=function(e){const t=new F(!1,void 0);return e.addObserver(t),(0,n.s)((()=>{e.removeObserver(t)}))},p=function(e,t){const s=new F(!0,t);return e.addObserver(s),t?t(e.get()):e.reportChanges(),(0,n.s)((()=>{e.removeObserver(s)}))};class F{constructor(e,t){this._forceRecompute=e,this._handleValue=t,this._counter=0}beginUpdate(e){this._counter++}endUpdate(e){this._counter--,0===this._counter&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}}s(84780);class D extends n.jG{static{this.instanceCount=0}constructor(e=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new i.vl),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new i.vl),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new i.vl({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,D.instanceCount++,this._registry=this._register(new a.LanguagesRegistry(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange((()=>this._onDidChange.fire())))}dispose(){D.instanceCount--,super.dispose()}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e)}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e)}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e)}guessLanguageIdByFilepathOrFirstLine(e,t){const s=this._registry.guessLanguageIdByFilepathOrFirstLine(e,t);return(0,r.Fy)(s,null)}createById(e){return new T(this.onDidChange,(()=>this._createAndGetLanguageIdentifier(e)))}createByFilepathOrFirstLine(e,t){return new T(this.onDidChange,(()=>{const s=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(s)}))}_createAndGetLanguageIdentifier(e){return e&&this.isRegisteredLanguageId(e)||(e=h.vH),e}requestBasicLanguageFeatures(e){this._requestedBasicLanguages.has(e)||(this._requestedBasicLanguages.add(e),this._onDidRequestBasicLanguageFeatures.fire(e))}requestRichLanguageFeatures(e){this._requestedRichLanguages.has(e)||(this._requestedRichLanguages.add(e),this.requestBasicLanguageFeatures(e),o.dG.getOrCreate(e),this._onDidRequestRichLanguageFeatures.fire(e))}}class T{constructor(e,t){this._value=I(this,e,(()=>t())),this.onDidChange=i.Jh.fromObservable(this._value)}get languageId(){return this._value.get()}}},68391:(e,t,s)=>{s.r(t),s.d(t,{clearPlatformLanguageAssociations:()=>m,getLanguageIds:()=>f,registerPlatformLanguageAssociation:()=>l});var i=s(35813),n=s(29159),a=s(44145),r=s(22156),o=s(12126),h=s(6729),u=s(45396);let g=[],d=[],c=[];function l(e,t=!1){!function(e,t,s){const n=function(e){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:false,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?(0,i.qg)(e.filepattern.toLowerCase()):void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(r.SA.sep)>=0}}(e);g.push(n),n.userConfigured?c.push(n):d.push(n),s&&!n.userConfigured&&g.forEach((e=>{e.mime===n.mime||e.userConfigured||(n.extension&&e.extension===n.extension&&console.warn(`Overwriting extension <<${n.extension}>> to now point to mime <<${n.mime}>>`),n.filename&&e.filename===n.filename&&console.warn(`Overwriting filename <<${n.filename}>> to now point to mime <<${n.mime}>>`),n.filepattern&&e.filepattern===n.filepattern&&console.warn(`Overwriting filepattern <<${n.filepattern}>> to now point to mime <<${n.mime}>>`),n.firstline&&e.firstline===n.firstline&&console.warn(`Overwriting firstline <<${n.firstline}>> to now point to mime <<${n.mime}>>`))}))}(e,0,t)}function m(){g=g.filter((e=>e.userConfigured)),d=[]}function f(e,t){return function(e,t){let s;if(e)switch(e.scheme){case a.ny.file:s=e.fsPath;break;case a.ny.data:s=o.B6.parseMetaData(e).get(o.B6.META_DATA_LABEL);break;case a.ny.vscodeNotebookCell:s=void 0;break;default:s=e.path}if(!s)return[{id:"unknown",mime:n.K.unknown}];s=s.toLowerCase();const i=(0,r.P8)(s),l=p(s,i,c);if(l)return[l,{id:u.vH,mime:n.K.text}];const m=p(s,i,d);if(m)return[m,{id:u.vH,mime:n.K.text}];if(t){const e=function(e){if((0,h.LU)(e)&&(e=e.substr(1)),e.length>0)for(let t=g.length-1;t>=0;t--){const s=g[t];if(!s.firstline)continue;const i=e.match(s.firstline);if(i&&i.length>0)return s}}(t);if(e)return[e,{id:u.vH,mime:n.K.text}]}return[{id:"unknown",mime:n.K.unknown}]}(e,t).map((e=>e.id))}function p(e,t,s){let i,n,a;for(let r=s.length-1;r>=0;r--){const o=s[r];if(t===o.filenameLowercase){i=o;break}if(o.filepattern&&(!n||o.filepattern.length>n.filepattern.length)){const s=o.filepatternOnPath?e:t;o.filepatternLowercase?.(s)&&(n=o)}o.extension&&(!a||o.extension.length>a.extension.length)&&t.endsWith(o.extensionLowercase)&&(a=o)}return i||n||a||void 0}},49424:(e,t,s)=>{s.r(t),s.d(t,{LanguageIdCodec:()=>c,LanguagesRegistry:()=>l});var i=s(76535),n=s(21172),a=s(6729),r=s(68391),o=s(45396),h=s(64863),u=s(37638);const g=Object.prototype.hasOwnProperty,d="vs.editor.nullLanguage";class c{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(d,0),this._register(o.vH,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||d}}class l extends n.jG{static{this.instanceCount=0}constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new i.vl),this.onDidChange=this._onDidChange.event,l.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new c,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(o.W6.onDidChangeLanguages((e=>{this._initializeFromRegistry()}))))}dispose(){l.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,r.clearPlatformLanguageAssociations)();const e=[].concat(o.W6.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach((e=>{const t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach((e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier})),t.mimetypes.forEach((e=>{this._mimeTypesMap[e]=t.identifier}))})),u.O.as(h.Fd.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let s;g.call(this._languages,t)?s=this._languages[t]:(this.languageIdCodec.register(t),s={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[t]=s),this._mergeLanguage(s,e)}_mergeLanguage(e,t){const s=t.id;let i=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),i=t.mimetypes[0]),i||(i=`text/x-${s}`,e.mimetypes.push(i)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(const e of t.extensions)(0,r.registerPlatformLanguageAssociation)({id:s,mime:i,extension:e},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(const n of t.filenames)(0,r.registerPlatformLanguageAssociation)({id:s,mime:i,filename:n},this._warnOnOverwrite),e.filenames.push(n);if(Array.isArray(t.filenamePatterns))for(const e of t.filenamePatterns)(0,r.registerPlatformLanguageAssociation)({id:s,mime:i,filepattern:e},this._warnOnOverwrite);if("string"==typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{const t=new RegExp(e);(0,a.eY)(t)||(0,r.registerPlatformLanguageAssociation)({id:s,mime:i,firstline:t},this._warnOnOverwrite)}catch(s){console.warn(`[${t.id}]: Invalid regular expression \`${e}\`: `,s)}}e.aliases.push(s);let n=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(n=0===t.aliases.length?[null]:t.aliases),null!==n)for(const t of n)t&&0!==t.length&&e.aliases.push(t);const o=null!==n&&n.length>0;if(o&&null===n[0]);else{const t=(o?n[0]:null)||s;!o&&e.name||(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}isRegisteredLanguageId(e){return!!e&&g.call(this._languages,e)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){const t=e.toLowerCase();return g.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}getLanguageIdByMimeType(e){return e&&g.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,t){return e||t?(0,r.getLanguageIds)(e,t):[]}}}}]);
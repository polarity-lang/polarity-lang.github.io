"use strict";(self.webpackChunkmonaco_lsp_streams=self.webpackChunkmonaco_lsp_streams||[]).push([[6402],{66402:(t,i,e)=>{e.r(i),e.d(i,{MonacoEditorService:()=>M,default:()=>V});var o,s=e(92518),r=e(1661),n=e(30846),h=e(95560),d=e(12417),a=e(82015),u=e(88609),l=e(97008),p=e(92449),g=e(28672),c=e(51053),v=e(19730),G=e(25202),m=e(68796),E=e(80512),D=e(5310),C=e(45259),y=e(19705),N=e(24821),S=e(65669),f=e(819),w=e(2481),I=e(19383),x=e(47575),J=e(77829),W=e(96485),_=e(16849),A=e(865),P=e(46361);function O(){throw new Error("unsupported")}const k=new class{constructor(){this.selectedEditors=[],this.isSelected=()=>!1,this.setSelection=O,this.isTransient=()=>!1,this.windowId=v.Gs.vscodeWindowId,this.createEditorActions=O,this.onDidFocus=r.Jh.None,this.onDidOpenEditorFail=r.Jh.None,this.whenRestored=Promise.resolve(),this.disposed=!1,this.setActive=O,this.notifyIndexChanged=O,this.relayout=O,this.dispose=O,this.toJSON=O,this.minimumWidth=0,this.maximumWidth=Number.POSITIVE_INFINITY,this.minimumHeight=0,this.maximumHeight=Number.POSITIVE_INFINITY,this.onDidChange=r.Jh.None,this.layout=O,this.onDidModelChange=r.Jh.None,this.onWillDispose=r.Jh.None,this.onDidActiveEditorChange=r.Jh.None,this.onWillCloseEditor=r.Jh.None,this.onDidCloseEditor=r.Jh.None,this.onWillMoveEditor=r.Jh.None,this.onWillOpenEditor=r.Jh.None,this.id=0,this.index=0,this.label="main",this.ariaLabel="main",this.activeEditorPane=void 0,this.activeEditor=null,this.previewEditor=null,this.count=0,this.isEmpty=!1,this.isLocked=!1,this.stickyCount=0,this.editors=[],this.getEditors=()=>[],this.findEditors=()=>[],this.getEditorByIndex=()=>{},this.getIndexOfEditor=O,this.openEditor=O,this.openEditors=O,this.isPinned=()=>!1,this.isSticky=()=>!1,this.isActive=()=>!1,this.contains=()=>!1,this.moveEditor=O,this.moveEditors=O,this.copyEditor=O,this.copyEditors=O,this.closeEditor=O,this.closeEditors=O,this.closeAllEditors=O,this.replaceEditors=O,this.pinEditor=()=>{},this.stickEditor=()=>{},this.unstickEditor=()=>{},this.lock=()=>{},this.isFirst=O,this.isLast=O}get groupsView(){return O()}notifyLabelChanged(){}get titleHeight(){return O()}get element(){return O()}get scopedContextKeyService(){return G.QE.get(P.f)}focus(){}};class T{constructor(t){this.editor=t,this.onDidChangeControl=r.Jh.None,this.onDidChangeSizeConstraints=r.Jh.None,this.onDidFocus=r.Jh.None,this.onDidBlur=r.Jh.None,this.input=void 0,this.options=void 0,this.group=k,this.scopedContextKeyService=void 0,this.getViewState=O,this.isVisible=O,this.hasFocus=O,this.getId=O,this.getTitle=O,this.focus=O}get minimumWidth(){return c.dp.width}get maximumWidth(){return c.bZ.width}get minimumHeight(){return c.dp.height}get maximumHeight(){return c.bZ.height}getControl(){return this.editor}}let M=class extends S.x{constructor(t,i,e,o,s,r,h,d,a,u,l,p,g){super(void 0,e,o,s,r,h,d,a,u,l,p),this._isEditorPartVisible=i,this.openEditor=function(t,i,e){return async function(o,s,r){const h=(0,E.ct)(o)?s:o.options;(0,m.BS)(s)&&(r=s);const d=(0,E.iY)(o)||(0,E.ct)(o)?o.resource:void 0;if(null==d||!t.canHandleResource(d))return await i(o,s,r);let a;if(a=G.QE.get(n.T).listCodeEditors().find((t=>t instanceof y.lN&&null!=t.getModel()&&t.getModel().uri.toString()===d.toString())),null==a){const n=await i(o,s,r);if(null!=n)return n;const u=await t.createModelReference(d);if(a=await(e?.(u,h,r===m.Sd)),null==a)return void u.dispose()}return null!=h&&(0,D.r)(h,a,1),h?.preserveFocus||(a.focus(),a.getContainerDomNode().scrollIntoView()),new T(a)}}(g,this.openEditor.bind(this),t)}get activeTextEditorControl(){const t=G.QE.get(n.T).getFocusedCodeEditor();return null!=t&&t instanceof y.I0?t:super.activeTextEditorControl}async openEditor(t,i,e){if(this._isEditorPartVisible())return await super.openEditor(t,i,e)}};M=(0,s.C)([(0,s.Q)(2,p.m),(0,s.Q)(3,g._Y),(0,s.Q)(4,W.$),(0,s.Q)(5,f.p),(0,s.Q)(6,J.V),(0,s.Q)(7,x.J),(0,s.Q)(8,I.Y),(0,s.Q)(9,w.ZE),(0,s.Q)(10,_.v),(0,s.Q)(11,l.P),(0,s.Q)(12,C.b)],M);class R{constructor(t,i,e){this.editor=t,this.input=i,this.group=e,this.onDidChangeControl=r.Jh.None,this.options=void 0,this.minimumWidth=0,this.maximumWidth=Number.POSITIVE_INFINITY,this.minimumHeight=0,this.maximumHeight=Number.POSITIVE_INFINITY,this.onDidChangeSizeConstraints=r.Jh.None,this.scopedContextKeyService=void 0,this.onDidFocus=this.editor.onDidFocusEditorWidget,this.onDidBlur=this.editor.onDidBlurEditorWidget}getControl(){return this.editor}getViewState(){}isVisible(){return!0}hasFocus(){return this.editor.hasWidgetFocus()}getId(){return this.editor.getId()}getTitle(){}focus(){this.editor.focus()}}let F=o=class extends N.jG{constructor(t,i,e){super(),this.editor=t,this.scopedContextKeyService=e,this.active=!1,this.selectedEditors=[],this.isSelected=()=>!1,this.setSelection=O,this.isTransient=()=>!1,this.windowId=v.Gs.vscodeWindowId,this.onDidFocus=this.editor.onDidFocusEditorWidget,this.onDidOpenEditorFail=r.Jh.None,this.whenRestored=Promise.resolve(),this.disposed=!1,this.notifyIndexChanged=O,this.relayout=O,this.toJSON=O,this.minimumWidth=0,this.maximumWidth=Number.POSITIVE_INFINITY,this.minimumHeight=0,this.maximumHeight=Number.POSITIVE_INFINITY,this.onDidChange=this.editor.onDidLayoutChange,this.layout=()=>this.editor.layout(),this._onDidModelChange=new r.vl,this.onDidModelChange=this._onDidModelChange.event,this.onWillDispose=this.editor.onDidDispose,this._onDidActiveEditorChange=new r.vl,this.onDidActiveEditorChange=this._onDidActiveEditorChange.event,this.onWillCloseEditor=r.Jh.None,this._onDidCloseEditor=new r.vl,this.onDidCloseEditor=this._onDidCloseEditor.event,this.onWillMoveEditor=r.Jh.None,this._onWillOpenEditor=new r.vl,this.onWillOpenEditor=this._onWillOpenEditor.event,this.id=--o.idCounter,this.index=-1,this.label="standalone editor "+-this.id,this.ariaLabel="standalone editor "+-this.id,this.previewEditor=null,this.isLocked=!0,this.stickyCount=0,this.getEditors=()=>this.editors,this.findEditors=t=>null!=this.pane&&t.toString()===this.pane.input.resource.toString()?[this.pane.input]:[],this.getEditorByIndex=t=>null!=this.pane&&0===t?this.pane.input:void 0,this.getIndexOfEditor=t=>null!=this.pane&&this.pane.input===t?0:-1,this.openEditor=async t=>{if(!t.isDisposed())return t instanceof A.r&&t.resource.toString()===this.pane?.input.resource.toString()?(this.focus(),this.pane):void 0},this.openEditors=async t=>{if(1===t.length)return await this.openEditor(t[0].editor)},this.isPinned=()=>!1,this.isSticky=()=>!1,this.isActive=()=>this.editor.hasWidgetFocus(),this.contains=t=>null!=this.pane&&this.pane.input===t,this.moveEditor=O,this.moveEditors=O,this.copyEditor=O,this.copyEditors=O,this.closeEditor=O,this.closeEditors=O,this.closeAllEditors=O,this.replaceEditors=O,this.pinEditor=()=>{},this.stickEditor=()=>{},this.unstickEditor=()=>{},this.lock=()=>{},this.isFirst=O,this.isLast=O;const s=e=>{const o=i.createInstance(A.r,e,void 0,void 0,void 0,void 0);this._onWillOpenEditor.fire({editor:o,groupId:this.id}),this.pane=new R(t,o,this),this._onDidModelChange.fire({kind:5,editor:o,editorIndex:0}),this._onDidActiveEditorChange.fire({editor:o})},n=t=>{if(null!=this.pane&&this.pane.input.resource.toString()===t.toString()){const t=this.pane;this.pane=void 0,this._onDidModelChange.fire({kind:6,editorIndex:0}),this._onDidActiveEditorChange.fire({editor:void 0}),this._onDidCloseEditor.fire({context:E.TW.UNKNOWN,editor:t.input,groupId:this.id,index:0,sticky:!1})}};t.onDidChangeModel((t=>{null!=t.oldModelUrl&&n(t.oldModelUrl),null!=t.newModelUrl&&s(t.newModelUrl)})),this._register({dispose:()=>{const i=t.getModel();null!=i&&n(i.uri)}});const h=t.getModel();if(null!=h){const e=i.createInstance(A.r,h.uri,void 0,void 0,void 0,void 0);this.pane=new R(t,e,this)}}get groupsView(){return O()}notifyLabelChanged(){}createEditorActions(){return{actions:{primary:[],secondary:[]},onDidChange:r.Jh.None}}get titleHeight(){return O()}setActive(t){this.active=t}get element(){return this.editor.getContainerDomNode()}get activeEditorPane(){return this.pane}get activeEditor(){return this.pane?.input??null}get count(){return null!=this.pane?1:0}get isEmpty(){return null==this.pane}get editors(){return null!=this.pane?[this.pane.input]:[]}focus(){this.editor.focus(),this.editor.getContainerDomNode().scrollIntoView()}};F.idCounter=0,F=o=(0,s.C)([(0,s.Q)(1,g._Y),(0,s.Q)(2,P.f)],F);let L=class extends N.jG{constructor(t,i,e){super(),this.delegate=t,this.instantiationService=e,this._serviceBrand=void 0,this.additionalGroups=[],this.activeGroupOverride=void 0,this.onDidCreateAuxiliaryEditorPart=this.delegate.onDidCreateAuxiliaryEditorPart,this.onDidChangeGroupMaximized=this.delegate.onDidChangeGroupMaximized,this._onDidChangeActiveGroup=new r.vl,this.onDidChangeActiveGroup=r.Jh.any(this._onDidChangeActiveGroup.event,this.delegate.onDidChangeActiveGroup),this._onDidAddGroup=new r.vl,this.onDidAddGroup=r.Jh.any(this._onDidAddGroup.event,this.delegate.onDidAddGroup),this._onDidRemoveGroup=new r.vl,this.onDidRemoveGroup=r.Jh.any(this._onDidRemoveGroup.event,this.delegate.onDidRemoveGroup),this.onDidMoveGroup=this.delegate.onDidMoveGroup,this.onDidActivateGroup=this.delegate.onDidActivateGroup,this.onDidChangeGroupIndex=this.delegate.onDidChangeGroupIndex,this.onDidChangeGroupLocked=this.delegate.onDidChangeGroupLocked,this.getLayout=()=>this.delegate.getLayout(),this.getGroups=t=>[...this.delegate.getGroups(t),...this.additionalGroups],this.getGroup=t=>this.delegate.getGroup(t)??this.additionalGroups.find((i=>i.id===t)),this.activateGroup=(...t)=>this.delegate.activateGroup(...t),this.getSize=(...t)=>this.delegate.getSize(...t),this.setSize=(...t)=>this.delegate.setSize(...t),this.arrangeGroups=(...t)=>this.delegate.arrangeGroups(...t),this.applyLayout=(...t)=>this.delegate.applyLayout(...t),this.setGroupOrientation=(...t)=>this.delegate.setGroupOrientation(...t),this.findGroup=(...t)=>this.delegate.findGroup(...t),this.addGroup=(...t)=>this.delegate.addGroup(...t),this.removeGroup=(...t)=>this.delegate.removeGroup(...t),this.moveGroup=(...t)=>this.delegate.moveGroup(...t),this.mergeGroup=(...t)=>this.delegate.mergeGroup(...t),this.mergeAllGroups=(...t)=>this.delegate.mergeAllGroups(...t),this.copyGroup=(...t)=>this.delegate.copyGroup(...t),this.onDidChangeEditorPartOptions=this.delegate.onDidChangeEditorPartOptions,setTimeout((()=>{const t=G.QE.get(n.T),o=t=>{if(t instanceof y.lN){let o;const s=t=>{const i=null!=t?this.additionalGroups.find((i=>i.editor===t)):void 0;this.activeGroupOverride!==i&&(this.activeGroupOverride=i,this._onDidChangeActiveGroup.fire(this.activeGroup))},r=t=>{i||this.activeGroupOverride!==this.additionalGroups.find((i=>i.editor===t))||s(void 0)},n=()=>{null!=o&&window.clearTimeout(o),s(t)},h=()=>{null!=o&&window.clearTimeout(o),o=window.setTimeout((()=>{o=void 0,r(t)}),100)};t.onDidDispose((()=>{r(t)})),t.onDidFocusEditorText(n),t.onDidFocusEditorWidget(n),t.onDidBlurEditorText(h),t.onDidBlurEditorWidget(h),t.hasWidgetFocus()&&n();const d=e.createInstance(F,t);this.additionalGroups.push(d),this._onDidAddGroup.fire(d)}};this._register(t.onCodeEditorAdd(o)),this._register(t.onCodeEditorRemove((t=>{if(t instanceof y.lN){const i=this.additionalGroups.find((i=>i.editor===t));null!=i&&(i.dispose(),this.activeGroupOverride===i&&(this.activeGroupOverride=void 0,this._onDidChangeActiveGroup.fire(this.activeGroup)),this.additionalGroups=this.additionalGroups.filter((t=>t!==i)),this._onDidRemoveGroup.fire(i))}}))),t.listCodeEditors().forEach(o)}))}getScopedInstantiationService(){return this.instantiationService}registerContextKeyProvider(t){return this.delegate.registerContextKeyProvider(t)}saveWorkingSet(t){return this.delegate.saveWorkingSet(t)}getWorkingSets(){return this.delegate.getWorkingSets()}applyWorkingSet(t){return this.delegate.applyWorkingSet(t)}deleteWorkingSet(t){return this.delegate.deleteWorkingSet(t)}get isReady(){return this.delegate.isReady}get whenReady(){return this.delegate.whenReady}get whenRestored(){return this.delegate.whenRestored}get hasRestorableState(){return this.delegate.hasRestorableState}get parts(){return this.delegate.parts}createAuxiliaryEditorPart(t){return this.delegate.createAuxiliaryEditorPart(t)}get mainPart(){return this.delegate.mainPart}getPart(t){return this.delegate.getPart(t)}toggleMaximizeGroup(t){return this.delegate.toggleMaximizeGroup(t)}toggleExpandGroup(t){return this.delegate.toggleExpandGroup(t)}createEditorDropTarget(t,i){return this.delegate.createEditorDropTarget(t,i)}get groups(){return[...this.additionalGroups,...this.delegate.groups]}get activeGroup(){return this.activeGroupOverride??this.delegate.activeGroup}get sideGroup(){return this.delegate.sideGroup}get count(){return this.delegate.count+this.additionalGroups.length}get orientation(){return this.delegate.orientation}get partOptions(){return this.delegate.partOptions}};L=(0,s.C)([(0,s.Q)(2,g._Y)],L),e(1392),e(89887),e(24168);class b{constructor(){this.onWillDispose=r.Jh.None,this.hasMaximizedGroup=()=>!1,this.windowId=v.Gs.vscodeWindowId,this.onDidLayout=r.Jh.None,this.onDidScroll=r.Jh.None,this.isReady=!0,this.whenReady=Promise.resolve(),this.whenRestored=Promise.resolve(),this.hasRestorableState=!1,this.centerLayout=O,this.isLayoutCentered=O,this.enforcePartOptions=O,this.onDidChangeActiveGroup=r.Jh.None,this.onDidAddGroup=r.Jh.None,this.onDidRemoveGroup=r.Jh.None,this.onDidMoveGroup=r.Jh.None,this.onDidActivateGroup=r.Jh.None,this.onDidChangeGroupIndex=r.Jh.None,this.onDidChangeGroupLocked=r.Jh.None,this.onDidChangeGroupMaximized=r.Jh.None,this.activeGroup=k,this.groups=[k],this.count=0,this.orientation=0,this.getGroups=()=>[],this.getGroup=()=>{},this.activateGroup=O,this.getSize=O,this.setSize=O,this.arrangeGroups=O,this.toggleMaximizeGroup=O,this.toggleExpandGroup=O,this.applyLayout=O,this.getLayout=O,this.setGroupOrientation=O,this.findGroup=()=>{},this.addGroup=O,this.removeGroup=O,this.moveGroup=O,this.mergeGroup=O,this.mergeAllGroups=O,this.copyGroup=O,this.partOptions=c.Fn,this.onDidChangeEditorPartOptions=r.Jh.None,this.createEditorDropTarget=O}get contentDimension(){return O()}get sideGroup(){return O()}}class z{constructor(){this.getScopedInstantiationService=O,this.registerContextKeyProvider=O,this.saveWorkingSet=O,this.getWorkingSets=O,this.applyWorkingSet=O,this.deleteWorkingSet=O,this.onDidCreateAuxiliaryEditorPart=r.Jh.None,this.mainPart=new b,this.activePart=this.mainPart,this.parts=[this.mainPart],this.getPart=O,this.createAuxiliaryEditorPart=O,this.onDidChangeGroupMaximized=r.Jh.None,this.toggleMaximizeGroup=O,this.toggleExpandGroup=O,this.partOptions=c.Fn,this.createEditorDropTarget=O,this._serviceBrand=void 0,this.getLayout=O,this.onDidChangeActiveGroup=r.Jh.None,this.onDidAddGroup=r.Jh.None,this.onDidRemoveGroup=r.Jh.None,this.onDidMoveGroup=r.Jh.None,this.onDidActivateGroup=r.Jh.None,this.onDidLayout=r.Jh.None,this.onDidScroll=r.Jh.None,this.onDidChangeGroupIndex=r.Jh.None,this.onDidChangeGroupLocked=r.Jh.None,this.activeGroup=k,this.groups=[k],this.count=0,this.orientation=0,this.isReady=!1,this.whenReady=Promise.resolve(),this.whenRestored=Promise.resolve(),this.hasRestorableState=!1,this.getGroups=()=>[],this.getGroup=()=>{},this.activateGroup=O,this.getSize=O,this.setSize=O,this.arrangeGroups=O,this.applyLayout=O,this.centerLayout=O,this.isLayoutCentered=()=>!1,this.setGroupOrientation=O,this.findGroup=()=>{},this.addGroup=O,this.removeGroup=O,this.moveGroup=O,this.mergeGroup=O,this.mergeAllGroups=O,this.copyGroup=O,this.onDidChangeEditorPartOptions=r.Jh.None,this.enforcePartOptions=O}get contentDimension(){return O()}get sideGroup(){return O()}}let Q=class extends L{constructor(t){super(t.createInstance(z),!0,t)}};function V(t){return{[n.T.toString()]:new a.d(h.g,void 0,!0),[d.I.toString()]:new a.d(M,[t,()=>!1],!0),[l.P.toString()]:new a.d(u.E,[],!1),[p.m.toString()]:new a.d(Q)}}Q=(0,s.C)([(0,s.Q)(0,g._Y)],Q)}}]);
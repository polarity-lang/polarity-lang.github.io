"use strict";(self.webpackChunkmonaco_lsp_streams=self.webpackChunkmonaco_lsp_streams||[]).push([[2203],{32203:(e,t,i)=>{i.r(t),i.d(t,{AbstractResourceEditorInput:()=>Ve.y,AbstractTextResourceEditorInput:()=>q.f,ActivityService:()=>h.T,ActivitybarPart:()=>c.m,ConfirmResult:()=>Te.yN,DomScrollableElement:()=>Se.MU,EditorInput:()=>fe.m,EditorInputCapabilities:()=>f.oG,EditorPane:()=>_e,GroupOrientation:()=>v.cW,PanelPart:()=>p.s,Parts:()=>E.Fy,Position:()=>E.yX,RegisteredEditorPriority:()=>me.C8,SidebarPart:()=>l.E,SimpleEditorInput:()=>We,SimpleEditorPane:()=>Oe,SplitView:()=>Re.U,ViewContainerLocation:()=>ue.gZ,ViewPaneContainer:()=>ve.zv,attachPart:()=>Xe,default:()=>ht,getPanelPosition:()=>ze,getSideBarPosition:()=>Ke,isEditorPartVisible:()=>at,isPartVisibile:()=>Je,onDidChangePanelPosition:()=>Ye,onDidChangeSideBarPosition:()=>Ue,onPartVisibilityChange:()=>et,registerCustomView:()=>Fe,registerEditor:()=>Be,registerEditorPane:()=>Ae,registerEditorSerializer:()=>Me,renderActivitybarPar:()=>tt,renderAuxiliaryPart:()=>rt,renderEditorPart:()=>st,renderPanelPart:()=>ot,renderPart:()=>qe,renderSidebarPart:()=>it,renderStatusBarPart:()=>nt,setPartVisibility:()=>He,viewContainerRegistry:()=>Le,viewRegistry:()=>Qe});var o,r=i(92518),s=i(25202),n=i(82015),a=i(92986),d=i(28672),l=i(39371),h=i(31255),u=i(82561),c=i(22031),p=i(7869),g=i(19871),v=i(20092),w=i(92449),m=i(12417),f=i(80512),E=i(81893),y=i(64533),C=i(96485),b=i(98967),D=i(71512),P=i(96334),G=i(30875),I=i(46271),S=i(44622),x=i(93765),T=i(71478),V=i(96181),N=i(81200),R=i(77829),k=i(819),_=i(87427),O=i(96670),W=i(60970),A=i(30846),B=i(68796),M=i(5310),L=i(51053),Q=i(45259),F=i(19705),J=i(24821),H=i(65669),Y=i(2481),z=i(19383),U=i(47575),K=i(97008),Z=i(16849),j=i(1661),q=i(865),$=i(46361),X=i(19730);function ee(){throw new Error("unsupported")}const te=new class{constructor(){this.selectedEditors=[],this.isSelected=()=>!1,this.setSelection=ee,this.isTransient=()=>!1,this.windowId=X.Gs.vscodeWindowId,this.createEditorActions=ee,this.onDidFocus=j.Jh.None,this.onDidOpenEditorFail=j.Jh.None,this.whenRestored=Promise.resolve(),this.disposed=!1,this.setActive=ee,this.notifyIndexChanged=ee,this.relayout=ee,this.dispose=ee,this.toJSON=ee,this.minimumWidth=0,this.maximumWidth=Number.POSITIVE_INFINITY,this.minimumHeight=0,this.maximumHeight=Number.POSITIVE_INFINITY,this.onDidChange=j.Jh.None,this.layout=ee,this.onDidModelChange=j.Jh.None,this.onWillDispose=j.Jh.None,this.onDidActiveEditorChange=j.Jh.None,this.onWillCloseEditor=j.Jh.None,this.onDidCloseEditor=j.Jh.None,this.onWillMoveEditor=j.Jh.None,this.onWillOpenEditor=j.Jh.None,this.id=0,this.index=0,this.label="main",this.ariaLabel="main",this.activeEditorPane=void 0,this.activeEditor=null,this.previewEditor=null,this.count=0,this.isEmpty=!1,this.isLocked=!1,this.stickyCount=0,this.editors=[],this.getEditors=()=>[],this.findEditors=()=>[],this.getEditorByIndex=()=>{},this.getIndexOfEditor=ee,this.openEditor=ee,this.openEditors=ee,this.isPinned=()=>!1,this.isSticky=()=>!1,this.isActive=()=>!1,this.contains=()=>!1,this.moveEditor=ee,this.moveEditors=ee,this.copyEditor=ee,this.copyEditors=ee,this.closeEditor=ee,this.closeEditors=ee,this.closeAllEditors=ee,this.replaceEditors=ee,this.pinEditor=()=>{},this.stickEditor=()=>{},this.unstickEditor=()=>{},this.lock=()=>{},this.isFirst=ee,this.isLast=ee}get groupsView(){return ee()}notifyLabelChanged(){}get titleHeight(){return ee()}get element(){return ee()}get scopedContextKeyService(){return s.QE.get($.f)}focus(){}};class ie{constructor(e){this.editor=e,this.onDidChangeControl=j.Jh.None,this.onDidChangeSizeConstraints=j.Jh.None,this.onDidFocus=j.Jh.None,this.onDidBlur=j.Jh.None,this.input=void 0,this.options=void 0,this.group=te,this.scopedContextKeyService=void 0,this.getViewState=ee,this.isVisible=ee,this.hasFocus=ee,this.getId=ee,this.getTitle=ee,this.focus=ee}get minimumWidth(){return L.dp.width}get maximumWidth(){return L.bZ.width}get minimumHeight(){return L.dp.height}get maximumHeight(){return L.bZ.height}getControl(){return this.editor}}let oe=class extends H.x{constructor(e,t,i,o,r,n,a,d,l,h,u,c,p){super(void 0,i,o,r,n,a,d,l,h,u,c),this._isEditorPartVisible=t,this.openEditor=function(e,t,i){return async function(o,r,n){const a=(0,f.ct)(o)?r:o.options;(0,B.BS)(r)&&(n=r);const d=(0,f.iY)(o)||(0,f.ct)(o)?o.resource:void 0;if(null==d||!e.canHandleResource(d))return await t(o,r,n);let l;if(l=s.QE.get(A.T).listCodeEditors().find((e=>e instanceof F.lN&&null!=e.getModel()&&e.getModel().uri.toString()===d.toString())),null==l){const s=await t(o,r,n);if(null!=s)return s;const h=await e.createModelReference(d);if(l=await(i?.(h,a,n===B.Sd)),null==l)return void h.dispose()}return null!=a&&(0,M.r)(a,l,1),a?.preserveFocus||(l.focus(),l.getContainerDomNode().scrollIntoView()),new ie(l)}}(p,this.openEditor.bind(this),e)}get activeTextEditorControl(){const e=s.QE.get(A.T).getFocusedCodeEditor();return null!=e&&e instanceof F.I0?e:super.activeTextEditorControl}async openEditor(e,t,i){if(this._isEditorPartVisible())return await super.openEditor(e,t,i)}};oe=(0,r.C)([(0,r.Q)(2,w.m),(0,r.Q)(3,d._Y),(0,r.Q)(4,C.$),(0,r.Q)(5,k.p),(0,r.Q)(6,R.V),(0,r.Q)(7,U.J),(0,r.Q)(8,z.Y),(0,r.Q)(9,Y.ZE),(0,r.Q)(10,Z.v),(0,r.Q)(11,K.P),(0,r.Q)(12,Q.b)],oe);class re{constructor(e,t,i){this.editor=e,this.input=t,this.group=i,this.onDidChangeControl=j.Jh.None,this.options=void 0,this.minimumWidth=0,this.maximumWidth=Number.POSITIVE_INFINITY,this.minimumHeight=0,this.maximumHeight=Number.POSITIVE_INFINITY,this.onDidChangeSizeConstraints=j.Jh.None,this.scopedContextKeyService=void 0,this.onDidFocus=this.editor.onDidFocusEditorWidget,this.onDidBlur=this.editor.onDidBlurEditorWidget}getControl(){return this.editor}getViewState(){}isVisible(){return!0}hasFocus(){return this.editor.hasWidgetFocus()}getId(){return this.editor.getId()}getTitle(){}focus(){this.editor.focus()}}let se=o=class extends J.jG{constructor(e,t,i){super(),this.editor=e,this.scopedContextKeyService=i,this.active=!1,this.selectedEditors=[],this.isSelected=()=>!1,this.setSelection=ee,this.isTransient=()=>!1,this.windowId=X.Gs.vscodeWindowId,this.onDidFocus=this.editor.onDidFocusEditorWidget,this.onDidOpenEditorFail=j.Jh.None,this.whenRestored=Promise.resolve(),this.disposed=!1,this.notifyIndexChanged=ee,this.relayout=ee,this.toJSON=ee,this.minimumWidth=0,this.maximumWidth=Number.POSITIVE_INFINITY,this.minimumHeight=0,this.maximumHeight=Number.POSITIVE_INFINITY,this.onDidChange=this.editor.onDidLayoutChange,this.layout=()=>this.editor.layout(),this._onDidModelChange=new j.vl,this.onDidModelChange=this._onDidModelChange.event,this.onWillDispose=this.editor.onDidDispose,this._onDidActiveEditorChange=new j.vl,this.onDidActiveEditorChange=this._onDidActiveEditorChange.event,this.onWillCloseEditor=j.Jh.None,this._onDidCloseEditor=new j.vl,this.onDidCloseEditor=this._onDidCloseEditor.event,this.onWillMoveEditor=j.Jh.None,this._onWillOpenEditor=new j.vl,this.onWillOpenEditor=this._onWillOpenEditor.event,this.id=--o.idCounter,this.index=-1,this.label="standalone editor "+-this.id,this.ariaLabel="standalone editor "+-this.id,this.previewEditor=null,this.isLocked=!0,this.stickyCount=0,this.getEditors=()=>this.editors,this.findEditors=e=>null!=this.pane&&e.toString()===this.pane.input.resource.toString()?[this.pane.input]:[],this.getEditorByIndex=e=>null!=this.pane&&0===e?this.pane.input:void 0,this.getIndexOfEditor=e=>null!=this.pane&&this.pane.input===e?0:-1,this.openEditor=async e=>{if(!e.isDisposed())return e instanceof q.r&&e.resource.toString()===this.pane?.input.resource.toString()?(this.focus(),this.pane):void 0},this.openEditors=async e=>{if(1===e.length)return await this.openEditor(e[0].editor)},this.isPinned=()=>!1,this.isSticky=()=>!1,this.isActive=()=>this.editor.hasWidgetFocus(),this.contains=e=>null!=this.pane&&this.pane.input===e,this.moveEditor=ee,this.moveEditors=ee,this.copyEditor=ee,this.copyEditors=ee,this.closeEditor=ee,this.closeEditors=ee,this.closeAllEditors=ee,this.replaceEditors=ee,this.pinEditor=()=>{},this.stickEditor=()=>{},this.unstickEditor=()=>{},this.lock=()=>{},this.isFirst=ee,this.isLast=ee;const r=i=>{const o=t.createInstance(q.r,i,void 0,void 0,void 0,void 0);this._onWillOpenEditor.fire({editor:o,groupId:this.id}),this.pane=new re(e,o,this),this._onDidModelChange.fire({kind:5,editor:o,editorIndex:0}),this._onDidActiveEditorChange.fire({editor:o})},s=e=>{if(null!=this.pane&&this.pane.input.resource.toString()===e.toString()){const e=this.pane;this.pane=void 0,this._onDidModelChange.fire({kind:6,editorIndex:0}),this._onDidActiveEditorChange.fire({editor:void 0}),this._onDidCloseEditor.fire({context:f.TW.UNKNOWN,editor:e.input,groupId:this.id,index:0,sticky:!1})}};e.onDidChangeModel((e=>{null!=e.oldModelUrl&&s(e.oldModelUrl),null!=e.newModelUrl&&r(e.newModelUrl)})),this._register({dispose:()=>{const t=e.getModel();null!=t&&s(t.uri)}});const n=e.getModel();if(null!=n){const i=t.createInstance(q.r,n.uri,void 0,void 0,void 0,void 0);this.pane=new re(e,i,this)}}get groupsView(){return ee()}notifyLabelChanged(){}createEditorActions(){return{actions:{primary:[],secondary:[]},onDidChange:j.Jh.None}}get titleHeight(){return ee()}setActive(e){this.active=e}get element(){return this.editor.getContainerDomNode()}get activeEditorPane(){return this.pane}get activeEditor(){return this.pane?.input??null}get count(){return null!=this.pane?1:0}get isEmpty(){return null==this.pane}get editors(){return null!=this.pane?[this.pane.input]:[]}focus(){this.editor.focus(),this.editor.getContainerDomNode().scrollIntoView()}};se.idCounter=0,se=o=(0,r.C)([(0,r.Q)(1,d._Y),(0,r.Q)(2,$.f)],se);let ne=class extends J.jG{constructor(e,t,i){super(),this.delegate=e,this.instantiationService=i,this._serviceBrand=void 0,this.additionalGroups=[],this.activeGroupOverride=void 0,this.onDidCreateAuxiliaryEditorPart=this.delegate.onDidCreateAuxiliaryEditorPart,this.onDidChangeGroupMaximized=this.delegate.onDidChangeGroupMaximized,this._onDidChangeActiveGroup=new j.vl,this.onDidChangeActiveGroup=j.Jh.any(this._onDidChangeActiveGroup.event,this.delegate.onDidChangeActiveGroup),this._onDidAddGroup=new j.vl,this.onDidAddGroup=j.Jh.any(this._onDidAddGroup.event,this.delegate.onDidAddGroup),this._onDidRemoveGroup=new j.vl,this.onDidRemoveGroup=j.Jh.any(this._onDidRemoveGroup.event,this.delegate.onDidRemoveGroup),this.onDidMoveGroup=this.delegate.onDidMoveGroup,this.onDidActivateGroup=this.delegate.onDidActivateGroup,this.onDidChangeGroupIndex=this.delegate.onDidChangeGroupIndex,this.onDidChangeGroupLocked=this.delegate.onDidChangeGroupLocked,this.getLayout=()=>this.delegate.getLayout(),this.getGroups=e=>[...this.delegate.getGroups(e),...this.additionalGroups],this.getGroup=e=>this.delegate.getGroup(e)??this.additionalGroups.find((t=>t.id===e)),this.activateGroup=(...e)=>this.delegate.activateGroup(...e),this.getSize=(...e)=>this.delegate.getSize(...e),this.setSize=(...e)=>this.delegate.setSize(...e),this.arrangeGroups=(...e)=>this.delegate.arrangeGroups(...e),this.applyLayout=(...e)=>this.delegate.applyLayout(...e),this.setGroupOrientation=(...e)=>this.delegate.setGroupOrientation(...e),this.findGroup=(...e)=>this.delegate.findGroup(...e),this.addGroup=(...e)=>this.delegate.addGroup(...e),this.removeGroup=(...e)=>this.delegate.removeGroup(...e),this.moveGroup=(...e)=>this.delegate.moveGroup(...e),this.mergeGroup=(...e)=>this.delegate.mergeGroup(...e),this.mergeAllGroups=(...e)=>this.delegate.mergeAllGroups(...e),this.copyGroup=(...e)=>this.delegate.copyGroup(...e),this.onDidChangeEditorPartOptions=this.delegate.onDidChangeEditorPartOptions,setTimeout((()=>{const e=s.QE.get(A.T),o=e=>{if(e instanceof F.lN){let o;const r=e=>{const t=null!=e?this.additionalGroups.find((t=>t.editor===e)):void 0;this.activeGroupOverride!==t&&(this.activeGroupOverride=t,this._onDidChangeActiveGroup.fire(this.activeGroup))},s=e=>{t||this.activeGroupOverride!==this.additionalGroups.find((t=>t.editor===e))||r(void 0)},n=()=>{null!=o&&window.clearTimeout(o),r(e)},a=()=>{null!=o&&window.clearTimeout(o),o=window.setTimeout((()=>{o=void 0,s(e)}),100)};e.onDidDispose((()=>{s(e)})),e.onDidFocusEditorText(n),e.onDidFocusEditorWidget(n),e.onDidBlurEditorText(a),e.onDidBlurEditorWidget(a),e.hasWidgetFocus()&&n();const d=i.createInstance(se,e);this.additionalGroups.push(d),this._onDidAddGroup.fire(d)}};this._register(e.onCodeEditorAdd(o)),this._register(e.onCodeEditorRemove((e=>{if(e instanceof F.lN){const t=this.additionalGroups.find((t=>t.editor===e));null!=t&&(t.dispose(),this.activeGroupOverride===t&&(this.activeGroupOverride=void 0,this._onDidChangeActiveGroup.fire(this.activeGroup)),this.additionalGroups=this.additionalGroups.filter((e=>e!==t)),this._onDidRemoveGroup.fire(t))}}))),e.listCodeEditors().forEach(o)}))}getScopedInstantiationService(){return this.instantiationService}registerContextKeyProvider(e){return this.delegate.registerContextKeyProvider(e)}saveWorkingSet(e){return this.delegate.saveWorkingSet(e)}getWorkingSets(){return this.delegate.getWorkingSets()}applyWorkingSet(e){return this.delegate.applyWorkingSet(e)}deleteWorkingSet(e){return this.delegate.deleteWorkingSet(e)}get isReady(){return this.delegate.isReady}get whenReady(){return this.delegate.whenReady}get whenRestored(){return this.delegate.whenRestored}get hasRestorableState(){return this.delegate.hasRestorableState}get parts(){return this.delegate.parts}createAuxiliaryEditorPart(e){return this.delegate.createAuxiliaryEditorPart(e)}get mainPart(){return this.delegate.mainPart}getPart(e){return this.delegate.getPart(e)}toggleMaximizeGroup(e){return this.delegate.toggleMaximizeGroup(e)}toggleExpandGroup(e){return this.delegate.toggleExpandGroup(e)}createEditorDropTarget(e,t){return this.delegate.createEditorDropTarget(e,t)}get groups(){return[...this.additionalGroups,...this.delegate.groups]}get activeGroup(){return this.activeGroupOverride??this.delegate.activeGroup}get sideGroup(){return this.delegate.sideGroup}get count(){return this.delegate.count+this.additionalGroups.length}get orientation(){return this.delegate.orientation}get partOptions(){return this.delegate.partOptions}};ne=(0,r.C)([(0,r.Q)(2,d._Y)],ne);var ae=i(52347),de=i(77845),le=i(90917),he=i(8957),ue=i(91279),ce=i(68836),pe=i(63101),ge=i(93152),ve=i(73586),we=i(14956),me=i(63534),fe=i(15904),Ee=i(63288),ye=i(16409),Ce=i(64788),be=i(7016),De=i(39639),Pe=i(84828),Ge=i(84793),Ie=i(40240),Se=i(65734),xe=i(1180),Te=i(48424),Ve=i(96220),Ne=i(39924),Re=i(13175),ke=i(46651);class _e extends Pe.M{constructor(e,t){super(e,t,s.QE.get(Ge.k),s.QE.get(Ie.G),s.QE.get(y.C))}}class Oe extends _e{constructor(){super(...arguments),this.inputDisposable=this._register(new J.HE)}createEditor(e){this.container=this.initialize(),this.wrapper=document.createElement("div"),this.wrapper.append(this.container),this.scrollbar=this._register(new Se.MU(this.wrapper,{horizontal:1,vertical:1})),e.appendChild(this.scrollbar.getDomNode());const t=new ResizeObserver((()=>{(0,xe.eU)(this.scrollbar).scanDomNode()}));t.observe(this.container),this._register({dispose(){t.disconnect()}})}async setInput(e,t,i,o){await super.setInput(e,t,i,o),o.isCancellationRequested||(this.inputDisposable.value=await(this.renderInput?.(e,t,i,o)),(0,xe.eU)(this.scrollbar).scanDomNode())}layout(e){const[t,i]=(0,xe.Rd)(this.wrapper,this.scrollbar);(0,ce.Ej)(t,e.width,e.height),i.scanDomNode()}focus(){(0,xe.eU)(this.container).focus()}clearInput(){this.inputDisposable.clear(),super.clearInput()}}class We extends fe.m{constructor(e,t){super(),this.closeHandler=t,this.dirty=!1,this._capabilities=0,this.resource=e}get capabilities(){return this._capabilities}addCapability(e){this._capabilities|=e,this._onDidChangeCapabilities.fire()}removeCapability(e){this._capabilities&=~e,this._onDidChangeCapabilities.fire()}get editorId(){return this.typeId}setName(e){this.name=e,this._onDidChangeLabel.fire()}setTitle(e){this.title=e,this._onDidChangeLabel.fire()}setDescription(e){this.description=e,this._onDidChangeLabel.fire()}getLabelValue(e,t){if("string"==typeof e)return e;switch(t){case 0:return e.short;case 2:return e.long;default:return e.medium}}getName(){return this.name??"Unnamed"}getTitle(e){return this.getLabelValue(this.title??this.getName(),e)}getDescription(e){return this.getLabelValue(this.description??this.getName(),e)}isDirty(){return this.dirty}setDirty(e){this.dirty=e,this._onDidChangeDirty.fire()}toUntyped(){if(null!=this.resource)return{resource:this.resource}}}function Ae(e,t,i,o){return ge.O.as(f.q5.EditorPane).registerEditorPane(De.nQ.create(i,e,t),o.map((e=>new n.d(e))))}function Be(e,t,i,o){return(0,ke.Wi)((r=>r.get(z.Y).registerEditor(e,t,i,o)))}function Me(e,t){return ge.O.as(f.q5.EditorFactory).registerEditorSerializer(e,t)}const Le=ge.O.as(ue.Fd.ViewContainersRegistry),Qe=ge.O.as(ue.Fd.ViewsRegistry);function Fe(e){const t=null!=e.icon?g.rz.parse(e.icon):void 0,i=e.viewContainer??Le.registerViewContainer({id:e.id,title:{value:e.name,original:e.name},order:e.order,ctorDescriptor:new n.d(ve.zv,[e.id,{mergeViewWithContainerWhenSingleView:!0}]),hideIfEmpty:!0,icon:t},e.location,{isDefault:e.default}),o=[{id:e.id,name:{value:e.name,original:e.name},ctorDescriptor:new n.d(class extends pe.OZ{renderBody(t){super.renderBody(t),this.wrapper=document.createElement("div"),this.scrollbar=this._register(new Se.MU(this.wrapper,{horizontal:1,vertical:1})),this.container=(0,ce.$)(".view-pane-content"),this.container.style.display="flex",this.container.style.alignItems="stretch",this._register(e.renderBody(this.container,this.scrollbar)),this.wrapper.append(this.container),t.appendChild(this.scrollbar.getDomNode());const i=new ResizeObserver((()=>{(0,xe.eU)(this.scrollbar).scanDomNode()}));i.observe(this.container),this._register({dispose(){i.disconnect()}})}getActionViewItem(t,i){const o=(e.actions??[]).find((e=>e.id===t.id));return null!=o?.render?new class extends be.EH{constructor(){super(null,t),this.render=o.render}}:super.getActionViewItem(t,i)}layoutBody(e,t){const[i,o]=(0,xe.Rd)(this.wrapper,this.scrollbar);(0,ce.Ej)(i,t,e),o.scanDomNode()}}),canMoveView:e.canMoveView??!0,canToggleVisibility:e.canToggleVisibility??!1,hideByDefault:e.hideByDefault??!1,collapsed:e.collapsed??!1,order:e.order,containerIcon:t}];Qe.registerViews(o,i);const r=new J.Cm;r.add({dispose(){Qe.deregisterViews(o,i),null==e.viewContainer&&Le.deregisterViewContainer(i)}});for(const t of e.actions??[])r.add((0,Ee.ug)(class extends Ee.L{constructor(){super({id:t.id,title:{value:t.title,original:t.title},category:ye.L.View,menu:[{id:Ee.D8.ViewTitle,when:Ce.M$.equals("view",e.id),group:"navigation",order:t.order},{id:Ee.D8.CommandPalette}],tooltip:t.tooltip,icon:null!=t.icon?we.W6[t.icon]:void 0}),this.run=t.run??(async()=>{})}}));return r}function Je(e){return s.QE.get(Ne.Y).isVisible(e,window)}function He(e,t){s.QE.get(Ne.Y).setPartHidden(!t,e,window)}const Ye=e=>s.QE.get(Ne.Y).onDidChangePanelPosition(e);function ze(){return s.QE.get(Ne.Y).getPanelPosition()}const Ue=e=>s.QE.get(Ne.Y).onDidChangeSideBarPosition(e);function Ke(){return s.QE.get(Ne.Y).getSideBarPosition()}function Ze(e,t,i){const o=document.createElement("status"===t?"footer":"div");return o.classList.add("part","monaco-workbench-part",...i),o.id=e,o.setAttribute("role",t),"status"===t&&o.setAttribute("aria-live","off"),o}function je(e){const t=e.getContainer()?.parentNode;null!=t&&e.layout(Math.max(e.minimumWidth,Math.min(e.maximumWidth,t.offsetWidth)),Math.max(e.minimumHeight,Math.min(e.maximumHeight,t.offsetHeight)),t.offsetTop,t.offsetLeft)}function qe(e,t){function i(){je(t)}e.oncontextmenu=()=>!1,t.onDidVisibilityChange((e=>{e&&i()})),i()}function $e(e){return s.QE.get(b.x).getPart(e)}function Xe(e,t){const i=$e(e);if(null==i)throw new Error("Part not found");return function(e,t){t.append(e.getContainer());const i=new ResizeObserver((()=>je(e)));return i.observe(t),{dispose:()=>i.disconnect()}}(i,t)}function et(e,t){const i=$e(e);if(null==i)throw new Error("Part not found");return i.onDidVisibilityChange(t)}function tt(e){return Xe("workbench.parts.activitybar",e)}function it(e){return Xe("workbench.parts.sidebar",e)}function ot(e){return Xe("workbench.parts.panel",e)}function rt(e){return Xe("workbench.parts.auxiliarybar",e)}function st(e){return Xe("workbench.parts.editor",e)}function nt(e){return Xe("workbench.parts.statusbar",e)}function at(){const e=s.QE.get(w.m).mainPart.getContainer();return null!=e&&!!(t=e).isConnected&&(null!=t.checkVisibility?t.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}):t.offsetHeight>0&&t.offsetWidth>0);var t}let dt=class extends ne{constructor(e){super(e.createInstance(W.w),!1,e),this.restoreGroup=(...e)=>this.delegate.restoreGroup(...e)}getId(){return"standalone"}updateStyles(){}registerPart(e){return this.delegate.registerPart(e)}bind(e,t){return this.delegate.bind(e,t)}get activePart(){return this.delegate.activePart}};dt=(0,r.C)([(0,r.Q)(0,d._Y)],dt);let lt=e=>e;function ht(e,t,i){return null!=i&&(lt="boolean"==typeof i?e=>({...e,editor:{...e.editor,restoreEditors:i}}):i),{...(0,le.A)(t),...(0,ae.A)({isKeybindingConfigurationVisible:at,shouldUseGlobalPicker:at}),...(0,de.Ay)({shouldUseGlobalKeybindings:at}),[w.m.toString()]:new n.d(dt,[],!1),[m.I.toString()]:new n.d(oe,[e,at],!1)}}(0,he.nj)((async e=>{const t=e.get(u.b),i=e.get(a.X),o=e.get(D.f),r=e.get(y.C),s=e.get(w.m),n=e.get(m.I),d=e.get(G.r),h=e.get(S.c),c=e.get(V.k),v=e.get(R.V),W=e.get(k.p),A=e.get(C.$),B=e.get(O.L),M=e.get(b.x),L=function(){const e=c.options?.defaultLayout;if((null!=e?.editors&&e.editors.length>0||null!=e?.layout?.editors)&&(e.force||r.isNew(1)))return{layout:e.layout?.editors,filesToOpenOrCreate:e.editors?.map((e=>({viewColumn:e.viewColumn,fileUri:g.rz.revive(e.uri),openOnlyIfExists:e.openOnlyIfExists,options:e.options})))};const{filesToOpenOrCreate:t,filesToDiff:i,filesToMerge:o}=c;return null!=t||null!=i||null!=o?{filesToOpenOrCreate:t,filesToDiff:i,filesToMerge:o}:void 0}();null!=L&&d.info("Initial editor state",L);let Q={layout:{editors:L?.layout},editor:{restoreEditors:function(e,t){return!((0,N.PR)(e.getWorkspace())||"preserve"!==W.getValue("window.restoreWindows")&&void 0!==t)}(v,L),editorsToOpen:async function(e,t){if(null!=t){const i=(0,_.Yc)(await(0,f.m6)(t.filesToMerge,e,d));if(4===i.length&&(0,f.iY)(i[0])&&(0,f.iY)(i[1])&&(0,f.iY)(i[2])&&(0,f.iY)(i[3]))return[{editor:{input1:{resource:i[0].resource},input2:{resource:i[1].resource},base:{resource:i[2].resource},result:{resource:i[3].resource},options:{pinned:!0}}}];const o=(0,_.Yc)(await(0,f.m6)(t.filesToDiff,e,d));if(2===o.length)return[{editor:{original:{resource:o[0].resource},modified:{resource:o[1].resource},options:{pinned:!0}}}];const r=[],s=await(0,f.m6)(t.filesToOpenOrCreate,e,d);for(let e=0;e<s.length;e++){const i=s[e];null!=i&&r.push({editor:i,viewColumn:t.filesToOpenOrCreate?.[e].viewColumn})}return r}return 1===v.getWorkbenchState()&&"newUntitledFile"===W.getValue("workbench.startupEditor")?s.mainPart.hasRestorableState||await B.hasBackups()?[]:[{editor:{resource:void 0}}]:[]}(A,L)},views:{defaults:function(e,t){const i=e.options?.defaultLayout;if(null==i)return;if(!i.force&&!t.isNew(1))return;const{views:o}=i;return null!=o&&o.length>0?o.map((e=>e.id)):void 0}(c,r),containerToRestore:{}}};function F(e){return i.getDefaultViewContainer(e)??i.getViewContainersByLocation(e)[0]}!function(){if(M.isVisible("workbench.parts.sidebar")){let e;e=!c.isBuilt||3===o.startupKind||T.HZ?r.get(l.E.activeViewletSettingsKey,1,F(0)?.id):F(0)?.id,Q.views.containerToRestore.sideBar=e}if(M.isVisible("workbench.parts.panel")){const e=r.get(p.s.activePanelSettingsKey,1,F(1)?.id);Q.views.containerToRestore.panel=e}if(M.isVisible("workbench.parts.auxiliarybar")){const e=r.get(P.z.activePanelSettingsKey,1,F(2)?.id);Q.views.containerToRestore.auxiliaryBar=e}}(),Q=lt(Q),null==Q.views.containerToRestore.sideBar&&M.setPartHidden(!0,"workbench.parts.sidebar"),null==Q.views.containerToRestore.panel&&M.setPartHidden(!0,"workbench.parts.panel"),null==Q.views.containerToRestore.auxiliaryBar&&M.setPartHidden(!0,"workbench.parts.auxiliarybar");const J=document.createElement("div");J.style.display="none",document.body.append(J);for(const{id:e,role:t,classes:i,options:o,getPosition:r,onDidChangePosition:s}of[{id:"workbench.parts.titlebar",role:"none",classes:["titlebar"]},{id:"workbench.parts.banner",role:"banner",classes:["banner"]},{id:"workbench.parts.activitybar",role:"none",classes:["activitybar"],getPosition:()=>M.getSideBarPosition(),onDidChangePosition:M.onDidChangeSideBarPosition},{id:"workbench.parts.sidebar",role:"none",classes:["sidebar"],getPosition:()=>M.getSideBarPosition(),onDidChangePosition:M.onDidChangeSideBarPosition},{id:"workbench.parts.editor",role:"main",classes:["editor"],options:{restorePreviousState:Q.editor.restoreEditors}},{id:"workbench.parts.panel",role:"none",classes:["panel","basepanel"],getPosition:()=>M.getPanelPosition(),onDidChangePosition:M.onDidChangePanelPosition},{id:"workbench.parts.auxiliarybar",role:"none",classes:["auxiliarybar","basepanel"],getPosition:()=>0===M.getSideBarPosition()?1:0,onDidChangePosition:M.onDidChangeSideBarPosition},{id:"workbench.parts.statusbar",role:"status",classes:["statusbar"]}]){const n=M.getPart(e);if(null!=n){const a=Ze(e,t,i);if(n.create(a,o),qe(a,n),n.layout(9999,9999,0,0),J.append(a),null!=r){let e=r();n.element.classList.add((0,E.Wf)(e)),s?.((()=>{n.element.classList.remove((0,E.Wf)(e)),e=r(),n.element.classList.add((0,E.Wf)(e))}))}}}const H=[],Y=[];H.push((async()=>{(0,I.G)("code/willRestoreEditors"),await s.mainPart.whenReady,(0,I.G)("code/restoreEditors/editorGroupsReady"),null!=Q.layout?.editors&&s.applyLayout(Q.layout.editors);const e=await Q.editor.editorsToOpen;let t;if((0,I.G)("code/restoreEditors/editorsToOpenResolved"),e.length>0){const i=s.getGroups(2),o=new Map;for(const t of e){const e=i[(t.viewColumn??1)-1];let r=o.get(e.id);null==r&&(r=new Set,o.set(e.id,r)),r.add(t.editor)}t=Promise.all(Array.from(o).map((async([e,t])=>{try{await n.openEditors(Array.from(t),e,{validateTrust:!0})}catch(e){d.error(e)}})))}Y.push(Promise.all([t?.finally((()=>(0,I.G)("code/restoreEditors/editorsOpened"))),s.mainPart.whenRestored.finally((()=>(0,I.G)("code/restoreEditors/editorGroupsRestored")))]).finally((()=>{(0,I.G)("code/didRestoreEditors")})))})());const z=(async()=>{if(null!=Q.views.defaults&&Q.views.defaults.length>0){(0,I.G)("code/willOpenDefaultViews");const e=[],t=t=>{const o=i.getViewLocationById(t.id);if(null!==o){const r=i.getViewContainerByViewId(t.id);if(null!=r){t.order>=(e[o]?.order??0)&&(e[o]={id:r.id,order:t.order});const s=i.getViewContainerModel(r);return s.setCollapsed(t.id,!1),s.setVisible(t.id,!0),!0}}return!1},o=[...Q.views.defaults].reverse().map(((e,t)=>({id:e,order:t})));let r=o.length;for(;r>0;)r--,t(o[r])&&o.splice(r,1);if(o.length>0){await h.whenInstalledExtensionsRegistered();let e=o.length;for(;e>0;)e--,t(o[e])&&o.splice(e,1)}null!=e[0]&&(Q.views.containerToRestore.sideBar=e[0].id),null!=e[1]&&(Q.views.containerToRestore.panel=e[1].id),null!=e[2]&&(Q.views.containerToRestore.auxiliaryBar=e[2].id),(0,I.G)("code/didOpenDefaultViews")}})();H.push(z),H.push((async()=>{await z,null!=Q.views.containerToRestore.sideBar&&((0,I.G)("code/willRestoreViewlet"),null==await t.openPaneComposite(Q.views.containerToRestore.sideBar,0)&&await t.openPaneComposite(F(0)?.id,0),(0,I.G)("code/didRestoreViewlet"))})()),H.push((async()=>{await z,null!=Q.views.containerToRestore.panel&&((0,I.G)("code/willRestorePanel"),null==await t.openPaneComposite(Q.views.containerToRestore.panel,1)&&await t.openPaneComposite(F(1)?.id,1),(0,I.G)("code/didRestorePanel"))})()),H.push((async()=>{await z,null!=Q.views.containerToRestore.auxiliaryBar&&((0,I.G)("code/willRestoreAuxiliaryBar"),null==await t.openPaneComposite(Q.views.containerToRestore.auxiliaryBar,2)&&await t.openPaneComposite(F(2)?.id,2),(0,I.G)("code/didRestoreAuxiliaryBar"))})()),await x.HC.settled(H),await x.HC.settled(Y)}))}}]);